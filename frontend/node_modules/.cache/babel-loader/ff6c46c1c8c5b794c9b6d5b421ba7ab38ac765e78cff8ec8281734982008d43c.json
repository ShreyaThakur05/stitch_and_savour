{"ast":null,"code":"import jsPDF from'jspdf';export const generateInvoicePDF=order=>{var _order$items;const pdf=new jsPDF();// Header - Business Details\npdf.setFontSize(22);pdf.setTextColor(139,69,19);pdf.text('Stitch & Savour',20,25);pdf.setFontSize(10);pdf.setTextColor(100,100,100);pdf.text('Homemade Food & Handcrafted Crochet Products',20,35);pdf.text('Contact: +91 9970944685 | Email: sangita.shreyas@gmail.com',20,42);// Invoice Title & Number\npdf.setFontSize(18);pdf.setTextColor(0,0,0);pdf.text('INVOICE',150,25);pdf.setFontSize(10);pdf.text(\"Invoice #: \".concat(order.orderNumber),150,35);pdf.text(\"Date: \".concat(new Date(order.createdAt).toLocaleDateString('en-IN')),150,42);// Separator line\npdf.setLineWidth(0.5);pdf.line(20,50,190,50);// Customer Details Section\npdf.setFontSize(12);pdf.setTextColor(139,69,19);pdf.text('Bill To:',20,65);pdf.setFontSize(10);pdf.setTextColor(0,0,0);// Get customer data from localStorage order\nconst storedOrders=JSON.parse(localStorage.getItem('userOrders')||'[]');const fullOrder=storedOrders.find(o=>o.orderNumber===order.orderNumber)||order;pdf.text(\"Name: \".concat(order.customerName||fullOrder.customerName||'Customer'),20,75);// Get phone from order or user profile, avoid 'N/A'\nconst phoneNumber=order.customerPhone||fullOrder.customerPhone||order.phone||fullOrder.phone;if(phoneNumber&&phoneNumber!=='N/A'){pdf.text(\"Phone: \".concat(phoneNumber),20,82);}// Payment Method\npdf.text(\"Payment: \".concat(order.paymentMethod==='qr'?'Online Payment':'Cash on Delivery'),120,75);// Items Table Header\nconst tableStartY=100;pdf.setFillColor(245,245,245);pdf.rect(20,tableStartY-5,170,12,'F');pdf.setFontSize(10);pdf.setTextColor(0,0,0);pdf.text('Item',25,tableStartY);pdf.text('Qty',120,tableStartY);pdf.text('Price',140,tableStartY);pdf.text('Total',165,tableStartY);// Items List\nlet yPos=tableStartY+15;pdf.setFontSize(9);(_order$items=order.items)===null||_order$items===void 0?void 0:_order$items.forEach(item=>{const itemPrice=item.finalPrice||item.price;const itemTotal=item.quantity*itemPrice;const itemName=item.selectedWeight?\"\".concat(item.name,\" (\").concat(item.selectedWeight,\")\"):item.name;const hasLargeQuantity=item.category==='food'&&item.quantity>5||item.category==='crochet'&&item.quantity>3;pdf.text(itemName.length>35?itemName.substring(0,35)+'...':itemName,25,yPos);pdf.text(item.quantity.toString(),125,yPos);pdf.text(\"Rs.\".concat(itemPrice),140,yPos);pdf.text(\"Rs.\".concat(itemTotal),165,yPos);if(hasLargeQuantity){yPos+=8;pdf.setFontSize(7);pdf.setTextColor(255,140,0);pdf.text('* Large quantity - delivery time may vary, owner will inform soon',25,yPos);pdf.setFontSize(9);pdf.setTextColor(0,0,0);yPos+=8;}else{yPos+=12;}});// Total Section\npdf.setLineWidth(0.3);pdf.line(120,yPos+5,190,yPos+5);yPos+=15;pdf.setFontSize(11);pdf.setTextColor(139,69,19);pdf.text(\"Total Amount: Rs.\".concat(order.total||order.totalAmount),120,yPos);// Footer\nyPos+=25;pdf.setFontSize(8);pdf.setTextColor(100,100,100);pdf.text('Thank you for choosing Stitch & Savour!',20,yPos);pdf.text('For any queries, contact us at +91 9970944685',20,yPos+7);// Download\npdf.save(\"Invoice-\".concat(order.orderNumber,\".pdf\"));};","map":{"version":3,"names":["jsPDF","generateInvoicePDF","order","_order$items","pdf","setFontSize","setTextColor","text","concat","orderNumber","Date","createdAt","toLocaleDateString","setLineWidth","line","storedOrders","JSON","parse","localStorage","getItem","fullOrder","find","o","customerName","phoneNumber","customerPhone","phone","paymentMethod","tableStartY","setFillColor","rect","yPos","items","forEach","item","itemPrice","finalPrice","price","itemTotal","quantity","itemName","selectedWeight","name","hasLargeQuantity","category","length","substring","toString","total","totalAmount","save"],"sources":["d:/project1/stitch_and_savour/frontend/src/utils/pdfGenerator.js"],"sourcesContent":["import jsPDF from 'jspdf';\n\nexport const generateInvoicePDF = (order) => {\n  const pdf = new jsPDF();\n  \n  // Header - Business Details\n  pdf.setFontSize(22);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text('Stitch & Savour', 20, 25);\n  \n  pdf.setFontSize(10);\n  pdf.setTextColor(100, 100, 100);\n  pdf.text('Homemade Food & Handcrafted Crochet Products', 20, 35);\n  pdf.text('Contact: +91 9970944685 | Email: sangita.shreyas@gmail.com', 20, 42);\n  \n  // Invoice Title & Number\n  pdf.setFontSize(18);\n  pdf.setTextColor(0, 0, 0);\n  pdf.text('INVOICE', 150, 25);\n  \n  pdf.setFontSize(10);\n  pdf.text(`Invoice #: ${order.orderNumber}`, 150, 35);\n  pdf.text(`Date: ${new Date(order.createdAt).toLocaleDateString('en-IN')}`, 150, 42);\n  \n  // Separator line\n  pdf.setLineWidth(0.5);\n  pdf.line(20, 50, 190, 50);\n  \n  // Customer Details Section\n  pdf.setFontSize(12);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text('Bill To:', 20, 65);\n  \n  pdf.setFontSize(10);\n  pdf.setTextColor(0, 0, 0);\n  \n  // Get customer data from localStorage order\n  const storedOrders = JSON.parse(localStorage.getItem('userOrders') || '[]');\n  const fullOrder = storedOrders.find(o => o.orderNumber === order.orderNumber) || order;\n  \n  pdf.text(`Name: ${order.customerName || fullOrder.customerName || 'Customer'}`, 20, 75);\n  \n  // Get phone from order or user profile, avoid 'N/A'\n  const phoneNumber = order.customerPhone || fullOrder.customerPhone || order.phone || fullOrder.phone;\n  if (phoneNumber && phoneNumber !== 'N/A') {\n    pdf.text(`Phone: ${phoneNumber}`, 20, 82);\n  }\n  \n  // Payment Method\n  pdf.text(`Payment: ${order.paymentMethod === 'qr' ? 'Online Payment' : 'Cash on Delivery'}`, 120, 75);\n  \n  // Items Table Header\n  const tableStartY = 100;\n  pdf.setFillColor(245, 245, 245);\n  pdf.rect(20, tableStartY - 5, 170, 12, 'F');\n  \n  pdf.setFontSize(10);\n  pdf.setTextColor(0, 0, 0);\n  pdf.text('Item', 25, tableStartY);\n  pdf.text('Qty', 120, tableStartY);\n  pdf.text('Price', 140, tableStartY);\n  pdf.text('Total', 165, tableStartY);\n  \n  // Items List\n  let yPos = tableStartY + 15;\n  pdf.setFontSize(9);\n  \n  order.items?.forEach((item) => {\n    const itemPrice = item.finalPrice || item.price;\n    const itemTotal = item.quantity * itemPrice;\n    const itemName = item.selectedWeight ? `${item.name} (${item.selectedWeight})` : item.name;\n    const hasLargeQuantity = (item.category === 'food' && item.quantity > 5) || (item.category === 'crochet' && item.quantity > 3);\n    \n    pdf.text(itemName.length > 35 ? itemName.substring(0, 35) + '...' : itemName, 25, yPos);\n    pdf.text(item.quantity.toString(), 125, yPos);\n    pdf.text(`Rs.${itemPrice}`, 140, yPos);\n    pdf.text(`Rs.${itemTotal}`, 165, yPos);\n    \n    if (hasLargeQuantity) {\n      yPos += 8;\n      pdf.setFontSize(7);\n      pdf.setTextColor(255, 140, 0);\n      pdf.text('* Large quantity - delivery time may vary, owner will inform soon', 25, yPos);\n      pdf.setFontSize(9);\n      pdf.setTextColor(0, 0, 0);\n      yPos += 8;\n    } else {\n      yPos += 12;\n    }\n  });\n  \n  // Total Section\n  pdf.setLineWidth(0.3);\n  pdf.line(120, yPos + 5, 190, yPos + 5);\n  \n  yPos += 15;\n  pdf.setFontSize(11);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text(`Total Amount: Rs.${order.total || order.totalAmount}`, 120, yPos);\n  \n  // Footer\n  yPos += 25;\n  pdf.setFontSize(8);\n  pdf.setTextColor(100, 100, 100);\n  pdf.text('Thank you for choosing Stitch & Savour!', 20, yPos);\n  pdf.text('For any queries, contact us at +91 9970944685', 20, yPos + 7);\n  \n  // Download\n  pdf.save(`Invoice-${order.orderNumber}.pdf`);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}