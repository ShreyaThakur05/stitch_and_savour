{"ast":null,"code":"import axios from'axios';import{config}from'../config/config';const API_URL=config.API_URL;const api=axios.create({baseURL:API_URL,headers:{'Content-Type':'application/json'}});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>Promise.reject(error));export const cartService={// Sync cart to backend\nsyncCart:async cartItems=>{try{const response=await api.put('/cart',{items:cartItems});return response.data;}catch(error){console.warn('Failed to sync cart to backend:',error.message);return{success:false};}},// Get cart from backend\ngetCart:async()=>{try{const response=await api.get('/cart');return response.data.cart.items||[];}catch(error){console.warn('Failed to get cart from backend:',error.message);return[];}},// Clear cart\nclearCart:async()=>{try{await api.delete('/cart');return{success:true};}catch(error){console.warn('Failed to clear cart on backend:',error.message);return{success:false};}}};export default cartService;","map":{"version":3,"names":["axios","config","API_URL","api","create","baseURL","headers","interceptors","request","use","token","localStorage","getItem","Authorization","concat","error","Promise","reject","cartService","syncCart","cartItems","response","put","items","data","console","warn","message","success","getCart","get","cart","clearCart","delete"],"sources":["d:/project1/stitch_and_savour/frontend/src/services/cartService.js"],"sourcesContent":["import axios from 'axios';\n\nimport { config } from '../config/config';\n\nconst API_URL = config.API_URL;\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const cartService = {\n  // Sync cart to backend\n  syncCart: async (cartItems) => {\n    try {\n      const response = await api.put('/cart', { items: cartItems });\n      return response.data;\n    } catch (error) {\n      console.warn('Failed to sync cart to backend:', error.message);\n      return { success: false };\n    }\n  },\n\n  // Get cart from backend\n  getCart: async () => {\n    try {\n      const response = await api.get('/cart');\n      return response.data.cart.items || [];\n    } catch (error) {\n      console.warn('Failed to get cart from backend:', error.message);\n      return [];\n    }\n  },\n\n  // Clear cart\n  clearCart: async () => {\n    try {\n      await api.delete('/cart');\n      return { success: true };\n    } catch (error) {\n      console.warn('Failed to clear cart on backend:', error.message);\n      return { success: false };\n    }\n  }\n};\n\nexport default cartService;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,MAAM,KAAQ,kBAAkB,CAEzC,KAAM,CAAAC,OAAO,CAAGD,MAAM,CAACC,OAAO,CAE9B,KAAM,CAAAC,GAAG,CAAGH,KAAK,CAACI,MAAM,CAAC,CACvBC,OAAO,CAAEH,OAAO,CAChBI,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBR,MAAM,EAAK,CACV,KAAM,CAAAS,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTT,MAAM,CAACK,OAAO,CAACO,aAAa,WAAAC,MAAA,CAAaJ,KAAK,CAAE,CAClD,CACA,MAAO,CAAAT,MAAM,CACf,CAAC,CACAc,KAAK,EAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC,CAED,MAAO,MAAM,CAAAG,WAAW,CAAG,CACzB;AACAC,QAAQ,CAAE,KAAO,CAAAC,SAAS,EAAK,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlB,GAAG,CAACmB,GAAG,CAAC,OAAO,CAAE,CAAEC,KAAK,CAAEH,SAAU,CAAC,CAAC,CAC7D,MAAO,CAAAC,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOT,KAAK,CAAE,CACdU,OAAO,CAACC,IAAI,CAAC,iCAAiC,CAAEX,KAAK,CAACY,OAAO,CAAC,CAC9D,MAAO,CAAEC,OAAO,CAAE,KAAM,CAAC,CAC3B,CACF,CAAC,CAED;AACAC,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI,CACF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAlB,GAAG,CAAC2B,GAAG,CAAC,OAAO,CAAC,CACvC,MAAO,CAAAT,QAAQ,CAACG,IAAI,CAACO,IAAI,CAACR,KAAK,EAAI,EAAE,CACvC,CAAE,MAAOR,KAAK,CAAE,CACdU,OAAO,CAACC,IAAI,CAAC,kCAAkC,CAAEX,KAAK,CAACY,OAAO,CAAC,CAC/D,MAAO,EAAE,CACX,CACF,CAAC,CAED;AACAK,SAAS,CAAE,KAAAA,CAAA,GAAY,CACrB,GAAI,CACF,KAAM,CAAA7B,GAAG,CAAC8B,MAAM,CAAC,OAAO,CAAC,CACzB,MAAO,CAAEL,OAAO,CAAE,IAAK,CAAC,CAC1B,CAAE,MAAOb,KAAK,CAAE,CACdU,OAAO,CAACC,IAAI,CAAC,kCAAkC,CAAEX,KAAK,CAACY,OAAO,CAAC,CAC/D,MAAO,CAAEC,OAAO,CAAE,KAAM,CAAC,CAC3B,CACF,CACF,CAAC,CAED,cAAe,CAAAV,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}