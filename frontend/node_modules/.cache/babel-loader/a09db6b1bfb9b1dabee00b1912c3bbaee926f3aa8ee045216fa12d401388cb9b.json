{"ast":null,"code":"import _objectSpread from\"D:/project1/stitch_and_savour/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Heart,ShoppingCart,Star,Truck,Shield,Award,ArrowLeft}from'lucide-react';import{useCart}from'../context/CartContext';import{useAuth}from'../context/AuthContext';import{useWishlist}from'../context/WishlistContext';import{useToast}from'../context/ToastContext';import{config}from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetailPage=()=>{const{id}=useParams();const navigate=useNavigate();const{addToCart}=useCart();const{user}=useAuth();const{addToWishlist,removeFromWishlist,isInWishlist}=useWishlist();const{showToast}=useToast();const[product,setProduct]=useState(null);const[selectedImage,setSelectedImage]=useState(0);const[quantity,setQuantity]=useState(1);const[customizations,setCustomizations]=useState({});const[selectedWeight,setSelectedWeight]=useState('');const[currentPrice,setCurrentPrice]=useState(0);const[loading,setLoading]=useState(true);const[reviews,setReviews]=useState([]);const[heartAnimation,setHeartAnimation]=useState(false);const[buttonAnimation,setButtonAnimation]=useState(false);const[floatingHearts,setFloatingHearts]=useState([]);const[floatingCarts,setFloatingCarts]=useState([]);// Sample product data (in real app, this would come from API)\nconst sampleProducts={1:{_id:1,name:'Boho Chic Granny Square Crochet Top',category:'crochet',price:1299,images:['/images/crochet-boho-top.jpg'],shortDescription:'A vibrant and stylish handmade top featuring a classic granny square pattern.',description:'Made with soft, breathable yarn in a beautiful medley of pink, blue, yellow, and cream, it\\'s the perfect statement piece for summer outings, music festivals, or a casual day out. Each top is handmade with care and attention to detail.',rating:4.8,reviewCount:12,stockStatus:'made-to-order',deliveryTime:14,yarnType:'High-quality, skin-friendly cotton yarn',careInstructions:'Gentle hand wash in cold water with mild detergent. Lay flat to dry. Do not bleach or iron.',customization:[{type:'thread-type',label:'Thread Type',options:['Cotton Thread','Wool Thread'],priceModifier:{'Wool Thread':200}},{type:'color',label:'Colors',options:['As Pictured'],priceModifier:0},{type:'size',label:'Size',options:['Small (S)','Medium (M)','Large (L)','Custom Sizing (+â‚¹200)'],priceModifier:{'Custom Sizing (+â‚¹200)':200}}]},2:{_id:2,name:'Classic Striped V-Neck Crochet Vest',category:'crochet',price:1199,images:['/images/crochet-striped-vest.jpg'],shortDescription:'A timeless and elegant V-neck vest with chic teal green and cream stripes.',description:'This classic striped vest features a flattering V-neck design with beautiful teal and cream stripes. Perfect for layering or wearing as a statement piece. Handcrafted with premium yarn for comfort and durability.',rating:4.9,reviewCount:8,stockStatus:'made-to-order',deliveryTime:14,yarnType:'Premium cotton blend yarn',careInstructions:'Hand wash in cold water. Lay flat to dry.',customization:[{type:'thread-type',label:'Thread Type',options:['Cotton Thread','Wool Thread'],priceModifier:{'Wool Thread':200}},{type:'color',label:'Colors',options:['As Pictured'],priceModifier:0},{type:'size',label:'Size',options:['Small (S)','Medium (M)','Large (L)'],priceModifier:0}]},3:{_id:3,name:'Minimalist Pink Tank Top',category:'crochet',price:999,images:['/images/crochet-pink-tank.jpg'],shortDescription:'Simple, sweet, and essential. This solid pink crochet tank top is a versatile wardrobe staple.',description:'This minimalist pink crochet tank top is perfect for layering or wearing on its own. Made with soft cotton yarn in a beautiful bubblegum pink shade, it features a classic fit that flatters all body types. The simple design makes it versatile enough to dress up or down.',rating:4.7,reviewCount:15,stockStatus:'made-to-order',deliveryTime:10,yarnType:'Premium cotton yarn',careInstructions:'Hand wash in cold water. Lay flat to dry. Do not bleach.',customization:[{type:'thread-type',label:'Thread Type',options:['Cotton Thread','Wool Thread'],priceModifier:{'Wool Thread':200}},{type:'color',label:'Color',options:['As Pictured'],priceModifier:0},{type:'size',label:'Size',options:['Small (S)','Medium (M)','Large (L)','Extra Large (XL)'],priceModifier:0}]},4:{_id:4,name:'Serene Blue & Pink Pooja Mat',category:'crochet',price:449,images:['/images/crochet-pooja-mat-blue.jpg'],shortDescription:'A beautiful circular mat, lovingly crocheted in calming shades of blue and pink.',description:'This serene pooja mat features beautiful blue and pink colors in a circular design. Perfect for meditation, prayer, or as a decorative piece. Handcrafted with care and attention to detail.',rating:4.9,reviewCount:6,stockStatus:'available',deliveryTime:7,yarnType:'Cotton yarn',careInstructions:'Hand wash gently. Air dry.',customization:[{type:'thread-type',label:'Thread Type',options:['Cotton Thread','Wool Thread'],priceModifier:{'Wool Thread':200}},{type:'color',label:'Colors',options:['As Pictured'],priceModifier:0}]},5:{_id:5,name:'Festive Multicolor Pooja Mat',category:'crochet',price:499,images:['/images/crochet-pooja-mat-multicolor.jpg'],shortDescription:'Brighten up your sacred space with this festive, multi-colored crocheted mat.',description:'This vibrant multicolor pooja mat brings joy and festivity to your sacred space. Features multiple bright colors in a beautiful circular pattern. Perfect for special occasions and daily prayers.',rating:4.8,reviewCount:4,stockStatus:'available',deliveryTime:7,yarnType:'Cotton yarn',careInstructions:'Hand wash gently. Air dry.',customization:[]},6:{_id:6,name:'Homestyle Poha Chivda',category:'food',price:25,pricePerKg:480,images:['/images/food-poha-chivda.jpg'],shortDescription:'A light, crispy, and savory Maharashtrian snack made with thin flattened rice.',description:'Our homemade Poha Chivda is made with thin flattened rice, roasted peanuts, curry leaves, and a secret blend of mild spices. The perfect guilt-free snack to enjoy with your evening tea. Freshly made every day to ensure maximum crispiness and flavor.',rating:4.6,reviewCount:23,stockStatus:'available',deliveryTime:2,ingredients:['Thin Flattened Rice (Poha)','Peanuts','Edible Vegetable Oil','Curry Leaves','Turmeric Powder','Mustard Seeds','Salt','Powdered Sugar','Asafoetida'],allergens:['Peanuts','Prepared in a kitchen that also handles tree nuts, gluten, and dairy'],weightOptions:['100g Packet','250g','500g','1kg']},7:{_id:7,name:'Sweet & Flaky Shakarpara',category:'food',price:25,pricePerKg:480,images:['/images/food-shakarpara.jpg'],shortDescription:'Traditional Indian sweet snack that melts in your mouth.',description:'Our traditional Shakarpara is made with premium ingredients and traditional methods. These sweet, flaky treats are perfect for festivals, tea time, or whenever you crave something sweet and crunchy.',rating:4.7,reviewCount:18,stockStatus:'available',deliveryTime:2,ingredients:['Maida','Ghee','Sugar','Cardamom'],allergens:['Gluten','Dairy'],weightOptions:['100g Packet','250g','500g','1kg']},8:{_id:8,name:'Crispy & Savory Namak Pare',category:'food',price:25,pricePerKg:480,images:['/images/food-namak-pare.jpg'],shortDescription:'The perfect savory companion for your tea.',description:'These crispy and savory Namak Pare are made with traditional spices and techniques. Perfect for tea time or as a light snack. Made fresh daily with quality ingredients.',rating:4.5,reviewCount:21,stockStatus:'available',deliveryTime:2,ingredients:['Maida','Ajwain','Salt'],allergens:['Gluten'],weightOptions:['100g Packet','250g','500g','1kg']},9:{_id:9,name:'Spicy Mixture Namkeen',category:'food',price:25,pricePerKg:500,images:['/images/food-mixture.jpg'],shortDescription:'A flavor-packed medley of crispy sev, fried peanuts, and lentils.',description:'Our spicy mixture is a perfect blend of crispy sev, roasted peanuts, and various lentils with aromatic spices. A popular tea-time snack that offers a burst of flavors in every bite.',rating:4.8,reviewCount:16,stockStatus:'available',deliveryTime:2,ingredients:['Besan','Peanuts','Lentils','Spices'],allergens:['Peanuts','Gluten'],weightOptions:['100g Packet','250g','500g','1kg']},10:{_id:10,name:'Classic Salty Mathri',category:'food',price:25,pricePerKg:480,images:['/images/food-mathri.jpg'],shortDescription:'Traditional North Indian flaky biscuit seasoned with ajwain.',description:'Our classic Mathri is made with traditional recipes passed down through generations. These flaky, salty biscuits are seasoned with ajwain (carom seeds) and are perfect with tea or as a light snack.',rating:4.6,reviewCount:14,stockStatus:'available',deliveryTime:2,ingredients:['Maida','Ghee','Ajwain','Salt'],allergens:['Gluten','Dairy'],weightOptions:['100g Packet','250g','500g','1kg']},11:{_id:11,name:'Baked Jeera Biscuits',category:'food',price:25,pricePerKg:480,images:['/images/food-jeera-biscuits.webp'],shortDescription:'Light, savory, and crumbly biscuits flavored with roasted cumin.',description:'These baked jeera biscuits are light, crumbly, and full of roasted cumin flavor. Perfect for tea time or as a healthy snack option. Baked to perfection with minimal oil.',rating:4.4,reviewCount:11,stockStatus:'available',deliveryTime:2,ingredients:['Maida','Butter','Jeera','Salt'],allergens:['Gluten','Dairy'],weightOptions:['100g Packet','250g','500g','1kg']},12:{_id:12,name:'Homemade Gujiya',category:'food',price:150,images:['/images/food-gujiya.jpg'],shortDescription:'Classic festive delicacy filled with khoya, nuts, and coconut.',description:'Our homemade Gujiya is a traditional festive sweet filled with rich khoya, nuts, and coconut. Made with love using traditional methods, these are perfect for celebrations and special occasions.',rating:4.9,reviewCount:7,stockStatus:'made-to-order',deliveryTime:3,ingredients:['Maida','Khoya','Coconut','Nuts'],allergens:['Gluten','Dairy','Nuts'],weightOptions:['6 pieces','12 pieces','24 pieces']}};useEffect(()=>{const loadProduct=async()=>{let productData=sampleProducts[id];// If not found in sample products, check database products\nif(!productData){try{const response=await fetch(\"\".concat(config.API_URL,\"/admin-products\"));const data=await response.json();if(data.success){var _productData;productData=data.products.find(p=>p._id.toString()===id);console.log('ðŸ›ï¸ Found admin product:',(_productData=productData)===null||_productData===void 0?void 0:_productData.name);}}catch(error){console.error('Database unavailable:',error);productData=null;}}if(productData){setProduct(productData);// Initialize with base price for food items (100g) or regular price for crochet\nlet initialPrice;if(productData.name==='Homemade Gujiya'){initialPrice=150;// 6 pieces price\n}else if(productData.category==='food'&&productData.pricePerKg){initialPrice=Math.round(productData.pricePerKg*0.1);// 100g price\n}else{initialPrice=productData.price;}setCurrentPrice(initialPrice);// Load reviews from database using product name\ntry{const response=await fetch(\"\".concat(config.API_URL,\"/reviews/all\"));const data=await response.json();if(data.success){// Filter reviews for this specific product\nconst productReviews=data.reviews.filter(review=>review.productName===productData.name||review.productId===productData.name);setReviews(productReviews);console.log('â­ Loaded reviews for product:',productData.name,productReviews.length);}else{setReviews([]);}}catch(error){console.error('Failed to load reviews from database:',error);setReviews([]);}}setLoading(false);};loadProduct();},[id]);const calculatePrice=(customizations,weight)=>{var _product$customizatio;let newPrice=product.price;// For food items, calculate price based on weight\nif(product.category==='food'&&weight){if(product.name==='Homemade Gujiya'){// Special pricing for Gujiya\nif(weight==='6 pieces')newPrice=150;else if(weight==='12 pieces')newPrice=300;else if(weight==='24 pieces')newPrice=600;else newPrice=150;// default to 6 pieces price\n}else if(product.pricePerKg){// Handle weight-based pricing for other food items\nlet weightValue;if(weight.includes('kg')){weightValue=parseFloat(weight.replace(/[^0-9.]/g,''));}else{weightValue=parseFloat(weight.replace(/[^0-9.]/g,''))/1000;// Convert g to kg\n}newPrice=product.pricePerKg*weightValue;}}// Add customization modifiers\n(_product$customizatio=product.customization)===null||_product$customizatio===void 0?void 0:_product$customizatio.forEach(option=>{const selectedValue=customizations[option.type];if(selectedValue&&option.priceModifier&&typeof option.priceModifier==='object'){newPrice+=option.priceModifier[selectedValue]||0;}});return Math.round(newPrice);};const handleCustomizationChange=(type,value)=>{const newCustomizations=_objectSpread(_objectSpread({},customizations),{},{[type]:value});setCustomizations(newCustomizations);setCurrentPrice(calculatePrice(newCustomizations,selectedWeight));};const handleWeightChange=weight=>{setSelectedWeight(weight);let newPrice;if(product.name==='Homemade Gujiya'){if(weight==='6 pieces')newPrice=150;else if(weight==='12 pieces')newPrice=300;else if(weight==='24 pieces')newPrice=600;}else{newPrice=calculatePrice(customizations,weight);}setCurrentPrice(newPrice);};const getDeliveryInfo=()=>{let deliveryDays=product.deliveryTime;let note='';if(product.category==='food'&&quantity>5){deliveryDays=2;note='May vary due to large quantity';}else if(product.category==='crochet'&&quantity>3){note='May vary due to large quantity';}return{days:deliveryDays,note};};const isSelectionComplete=()=>{// For food items, weight must be selected\nif(product.category==='food'&&product.weightOptions&&!selectedWeight){return false;}// For crochet items, all customization options must be selected\nif(product.category==='crochet'&&product.customization){return product.customization.every(option=>customizations[option.type]);}return true;};const getSelectionMessage=()=>{if(product.category==='food'&&product.weightOptions&&!selectedWeight){return product.name==='Homemade Gujiya'?'Please select a quantity option first':'Please select a weight option first';}if(product.category==='crochet'&&product.customization){const missingOptions=product.customization.filter(option=>!customizations[option.type]);if(missingOptions.length>0){return\"Please select: \".concat(missingOptions.map(opt=>opt.label).join(', '));}}return'';};const handleAddToCart=()=>{if(!user){navigate('/login');return;}if(!isSelectionComplete()){showToast(getSelectionMessage(),'error');return;}if(product){setButtonAnimation(true);setTimeout(()=>setButtonAnimation(false),200);// Create floating cart animation\nconst newCarts=Array.from({length:2},(_,i)=>({id:Date.now()+i,left:Math.random()*30-15,delay:i*150}));setFloatingCarts(newCarts);setTimeout(()=>setFloatingCarts([]),1000);addToCart(product,quantity,customizations,selectedWeight);showToast('Added to cart successfully!','success');}};const handleBuyNow=()=>{if(!user){navigate('/login');return;}if(!isSelectionComplete()){showToast(getSelectionMessage(),'error');return;}if(product){addToCart(product,quantity,customizations,selectedWeight);navigate('/checkout');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'60vh',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!product){return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'60vh',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product not found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/products'),className:\"btn btn-primary\",children:\"Back to Products\"})]});}return/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem 0',minHeight:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),style:{display:'flex',alignItems:'center',gap:'0.5rem',background:'none',border:'none',color:'var(--primary-color)',fontSize:'0.9rem',cursor:'pointer',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(ArrowLeft,{size:16}),\"Back\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in\",style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'3rem',marginBottom:'3rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"animate-slide-in\",children:[/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid var(--border-color)',borderRadius:'16px',overflow:'hidden',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"img\",{src:product.images[selectedImage],alt:product.name,style:{width:'100%',height:'400px',objectFit:'cover'},onError:e=>{e.target.src='/images/placeholder.jpg';}})}),product.images.length>1&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.5rem',overflowX:'auto'},children:product.images.map((image,index)=>/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"\".concat(product.name,\" \").concat(index+1),style:{width:'80px',height:'80px',objectFit:'cover',borderRadius:'8px',cursor:'pointer',border:selectedImage===index?'2px solid var(--primary-color)':'1px solid var(--border-color)'},onClick:()=>setSelectedImage(index)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"animate-slide-up\",style:{animationDelay:'0.2s'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"span\",{style:{background:product.category==='crochet'?'var(--primary-color)':'var(--success)',color:'white',padding:'0.25rem 0.75rem',borderRadius:'12px',fontSize:'0.8rem',fontWeight:'600',textTransform:'capitalize'},children:product.category})}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'800',marginBottom:'1rem',lineHeight:'1.2'},children:product.name}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'2rem',fontWeight:'800',color:'var(--primary-color)',marginBottom:'0.5rem'},children:[\"\\u20B9\",currentPrice,product.pricePerKg&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'1rem',color:'var(--text-secondary)',fontWeight:'400',marginLeft:'0.5rem'},children:[\"(\\u20B9\",product.pricePerKg,\"/kg)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',fontSize:'0.9rem',color:'var(--text-secondary)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(Truck,{size:16}),\"Delivery in \",getDeliveryInfo().days,\" days\",getDeliveryInfo().note&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.8rem',color:'var(--warning)',marginLeft:'0.5rem'},children:[\"(\",getDeliveryInfo().note,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(Shield,{size:16}),product.stockStatus==='made-to-order'?'Made to Order':'In Stock']})]})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)',lineHeight:'1.6',marginBottom:'2rem'},children:product.description}),product.customization&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'1rem'},children:\"Customization Options\"}),product.customization.map(option=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontWeight:'600',marginBottom:'0.5rem'},children:option.label}),/*#__PURE__*/_jsxs(\"select\",{value:customizations[option.type]||'',onChange:e=>handleCustomizationChange(option.type,e.target.value),style:{width:'100%',padding:'0.75rem',border:\"1px solid \".concat(!customizations[option.type]?'var(--warning)':'var(--border-color)'),borderRadius:'8px',fontSize:'0.9rem',background:!customizations[option.type]?'var(--warning-light)':'var(--bg-primary)'},children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",children:[\"Select \",option.label,\" *\"]}),option.options.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},opt))]})]},option.type))]}),product.weightOptions&&product.weightOptions.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'1rem'},children:product.name==='Homemade Gujiya'?'Quantity Options *':'Weight Options *'}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:product.name==='Homemade Gujiya'?'repeat(3, 1fr)':'repeat(auto-fit, minmax(120px, 1fr))',gap:'0.75rem'},children:product.weightOptions.map(weight=>{let weightPrice,displayText;if(product.name==='Homemade Gujiya'){if(weight==='6 pieces'){weightPrice=150;displayText='6 Pieces';}else if(weight==='12 pieces'){weightPrice=300;displayText='12 Pieces';}else if(weight==='24 pieces'){weightPrice=600;displayText='24 Pieces';}console.log('Gujiya pricing:',weight,weightPrice);}else{weightPrice=calculatePrice(customizations,weight);displayText=weight;}return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleWeightChange(weight),style:{padding:'1rem 0.75rem',border:selectedWeight===weight?'2px solid var(--primary-color)':'1px solid var(--border-color)',borderRadius:'12px',background:selectedWeight===weight?'var(--primary-color)':'var(--bg-primary)',color:selectedWeight===weight?'white':'var(--text-primary)',cursor:'pointer',fontSize:'0.9rem',fontWeight:selectedWeight===weight?'600':'400',transition:'all 0.2s ease',display:'flex',flexDirection:'column',alignItems:'center',gap:'0.5rem',boxShadow:selectedWeight===weight?'0 4px 12px rgba(217, 70, 239, 0.3)':'0 2px 4px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600'},children:displayText}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'1rem',fontWeight:'700',color:selectedWeight===weight?'white':'var(--primary-color)'},children:[\"\\u20B9\",weightPrice]})]},weight);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'600'},children:\"Quantity:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(Math.max(1,quantity-1)),className:\"quantity-btn\",style:{width:'36px',height:'36px',borderRadius:'8px',cursor:'pointer'},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{style:{minWidth:'40px',textAlign:'center',fontWeight:'600'},children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(quantity+1),className:\"quantity-btn\",style:{width:'36px',height:'36px',borderRadius:'8px',cursor:'pointer'},children:\"+\"})]}),(product.category==='food'&&quantity>5||product.category==='crochet'&&quantity>3)&&/*#__PURE__*/_jsx(\"div\",{style:{background:'var(--warning-light)',color:'var(--warning-dark)',padding:'0.5rem 0.75rem',borderRadius:'8px',fontSize:'0.8rem',fontWeight:'600',border:'1px solid var(--warning)'},children:\"\\u26A0\\uFE0F Large quantity - delivery time may vary, owner will inform soon\"})]}),!isSelectionComplete()&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'var(--warning-light)',border:'1px solid var(--warning)',borderRadius:'8px',padding:'0.75rem',marginBottom:'1rem',color:'var(--warning-dark)',fontSize:'0.9rem',fontWeight:'600'},children:[\"\\u26A0\\uFE0F \",getSelectionMessage()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"animate-scale-in\",style:{display:'flex',gap:'1rem',marginBottom:'2rem',animationDelay:'0.3s'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddToCart,disabled:!isSelectionComplete(),className:\"hover-scale \".concat(buttonAnimation?'animate-button-pop':''),style:{flex:1,padding:'1rem',background:isSelectionComplete()?'var(--bg-secondary)':'var(--bg-tertiary)',border:\"2px solid \".concat(isSelectionComplete()?'var(--primary-color)':'var(--border-color)'),color:isSelectionComplete()?'var(--primary-color)':'var(--text-muted)',borderRadius:'12px',fontWeight:'600',cursor:isSelectionComplete()?'pointer':'not-allowed',display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem',position:'relative',opacity:isSelectionComplete()?1:0.6},children:[/*#__PURE__*/_jsx(ShoppingCart,{size:20}),\"Add to Cart\",floatingCarts.map(cart=>/*#__PURE__*/_jsx(\"div\",{className:\"animate-floating-cart\",style:{position:'absolute',left:\"\".concat(cart.left,\"px\"),animationDelay:\"\".concat(cart.delay,\"ms\"),fontSize:'1.5rem'},children:\"\\uD83D\\uDED2\"},cart.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBuyNow,disabled:!isSelectionComplete(),className:\"hover-scale\",style:{flex:1,padding:'1rem',background:isSelectionComplete()?'var(--primary-color)':'var(--bg-tertiary)',border:'none',color:isSelectionComplete()?'white':'var(--text-muted)',borderRadius:'12px',fontWeight:'600',cursor:isSelectionComplete()?'pointer':'not-allowed',opacity:isSelectionComplete()?1:0.6},children:\"Buy Now\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setHeartAnimation(true);setTimeout(()=>setHeartAnimation(false),300);// Create floating hearts\nconst newHearts=Array.from({length:3},(_,i)=>({id:Date.now()+i,left:Math.random()*20-10,delay:i*100}));setFloatingHearts(newHearts);setTimeout(()=>setFloatingHearts([]),1000);if(isInWishlist(product._id)){removeFromWishlist(product._id);showToast('Removed from wishlist','success');}else{addToWishlist(product);showToast('Added to wishlist!','success');}},className:heartAnimation?'animate-heart-pop':'',style:{padding:'1rem',background:'var(--bg-secondary)',border:'1px solid var(--border-color)',borderRadius:'12px',cursor:'pointer',color:isInWishlist(product._id)?'#ef4444':'var(--text-secondary)',position:'relative'},children:[/*#__PURE__*/_jsx(Heart,{size:20,fill:isInWishlist(product._id)?'currentColor':'none'}),floatingHearts.map(heart=>/*#__PURE__*/_jsx(\"div\",{className:\"floating-heart animate-floating-heart\",style:{left:\"\".concat(heart.left,\"px\"),animationDelay:\"\".concat(heart.delay,\"ms\")},children:\"\\u2764\\uFE0F\"},heart.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'var(--bg-secondary)',padding:'1.5rem',borderRadius:'12px',border:'1px solid var(--border-color)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'1rem'},children:\"Product Details\"}),product.yarnType&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Yarn Type:\"}),\" \",product.yarnType]}),product.careInstructions&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Care Instructions:\"}),\" \",product.careInstructions]}),product.ingredients&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ingredients:\"}),\" \",product.ingredients.join(', ')]}),product.allergens&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Allergen Info:\"}),\" \",product.allergens.join(', ')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Delivery Area:\"}),\" Pan-India delivery available\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in\",style:{background:'var(--bg-secondary)',padding:'2rem',borderRadius:'16px',border:'1px solid var(--border-color)',animationDelay:'0.4s'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'1.5rem'},children:\"Customer Reviews\"}),reviews.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)'},children:\"No reviews yet. Be the first to review!\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'1rem'},children:reviews.map(review=>{var _review$user;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'var(--bg-primary)',borderRadius:'8px',border:'1px solid var(--border-light)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'600',marginBottom:'0.25rem'},children:[((_review$user=review.user)===null||_review$user===void 0?void 0:_review$user.name)||'Anonymous',review.verified&&/*#__PURE__*/_jsx(\"span\",{style:{color:'var(--success)',fontSize:'0.8rem',marginLeft:'0.5rem'},children:\"\\u2713 Verified Purchase\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem'},children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{size:12,fill:i<review.rating?'#fbbf24':'none',color:i<review.rating?'#fbbf24':'#d1d5db'},i))})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'var(--text-secondary)',fontSize:'0.8rem'},children:new Date(review.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)',lineHeight:'1.5',margin:0},children:review.comment})]},review._id);})})]})]})});};export default ProductDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Heart","ShoppingCart","Star","Truck","Shield","Award","ArrowLeft","useCart","useAuth","useWishlist","useToast","config","jsx","_jsx","jsxs","_jsxs","ProductDetailPage","id","navigate","addToCart","user","addToWishlist","removeFromWishlist","isInWishlist","showToast","product","setProduct","selectedImage","setSelectedImage","quantity","setQuantity","customizations","setCustomizations","selectedWeight","setSelectedWeight","currentPrice","setCurrentPrice","loading","setLoading","reviews","setReviews","heartAnimation","setHeartAnimation","buttonAnimation","setButtonAnimation","floatingHearts","setFloatingHearts","floatingCarts","setFloatingCarts","sampleProducts","_id","name","category","price","images","shortDescription","description","rating","reviewCount","stockStatus","deliveryTime","yarnType","careInstructions","customization","type","label","options","priceModifier","pricePerKg","ingredients","allergens","weightOptions","loadProduct","productData","response","fetch","concat","API_URL","data","json","success","_productData","products","find","p","toString","console","log","error","initialPrice","Math","round","productReviews","filter","review","productName","productId","length","calculatePrice","weight","_product$customizatio","newPrice","weightValue","includes","parseFloat","replace","forEach","option","selectedValue","handleCustomizationChange","value","newCustomizations","_objectSpread","handleWeightChange","getDeliveryInfo","deliveryDays","note","days","isSelectionComplete","every","getSelectionMessage","missingOptions","map","opt","join","handleAddToCart","setTimeout","newCarts","Array","from","_","i","Date","now","left","random","delay","handleBuyNow","style","minHeight","display","alignItems","justifyContent","children","className","flexDirection","gap","onClick","padding","background","border","color","fontSize","cursor","marginBottom","size","gridTemplateColumns","borderRadius","overflow","src","alt","width","height","objectFit","onError","e","target","overflowX","image","index","animationDelay","fontWeight","textTransform","lineHeight","marginLeft","onChange","weightPrice","displayText","transition","boxShadow","max","minWidth","textAlign","disabled","flex","position","opacity","cart","newHearts","fill","heart","_review$user","verified","createdAt","toLocaleDateString","margin","comment"],"sources":["D:/project1/stitch_and_savour/frontend/src/pages/ProductDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Heart, ShoppingCart, Star, Truck, Shield, Award, ArrowLeft } from 'lucide-react';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\nimport { useWishlist } from '../context/WishlistContext';\nimport { useToast } from '../context/ToastContext';\nimport { config } from '../config/config';\n\nconst ProductDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { addToCart } = useCart();\n  const { user } = useAuth();\n  const { addToWishlist, removeFromWishlist, isInWishlist } = useWishlist();\n  const { showToast } = useToast();\n  const [product, setProduct] = useState(null);\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [customizations, setCustomizations] = useState({});\n  const [selectedWeight, setSelectedWeight] = useState('');\n  const [currentPrice, setCurrentPrice] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [reviews, setReviews] = useState([]);\n  const [heartAnimation, setHeartAnimation] = useState(false);\n  const [buttonAnimation, setButtonAnimation] = useState(false);\n  const [floatingHearts, setFloatingHearts] = useState([]);\n  const [floatingCarts, setFloatingCarts] = useState([]);\n\n  // Sample product data (in real app, this would come from API)\n  const sampleProducts = {\n    1: {\n      _id: 1,\n      name: 'Boho Chic Granny Square Crochet Top',\n      category: 'crochet',\n      price: 1299,\n      images: ['/images/crochet-boho-top.jpg'],\n      shortDescription: 'A vibrant and stylish handmade top featuring a classic granny square pattern.',\n      description: 'Made with soft, breathable yarn in a beautiful medley of pink, blue, yellow, and cream, it\\'s the perfect statement piece for summer outings, music festivals, or a casual day out. Each top is handmade with care and attention to detail.',\n      rating: 4.8,\n      reviewCount: 12,\n      stockStatus: 'made-to-order',\n      deliveryTime: 14,\n      yarnType: 'High-quality, skin-friendly cotton yarn',\n      careInstructions: 'Gentle hand wash in cold water with mild detergent. Lay flat to dry. Do not bleach or iron.',\n      customization: [\n        {\n          type: 'thread-type',\n          label: 'Thread Type',\n          options: ['Cotton Thread', 'Wool Thread'],\n          priceModifier: { 'Wool Thread': 200 }\n        },\n        {\n          type: 'color',\n          label: 'Colors',\n          options: ['As Pictured'],\n          priceModifier: 0\n        },\n        {\n          type: 'size',\n          label: 'Size',\n          options: ['Small (S)', 'Medium (M)', 'Large (L)', 'Custom Sizing (+â‚¹200)'],\n          priceModifier: { 'Custom Sizing (+â‚¹200)': 200 }\n        }\n      ]\n    },\n    2: {\n      _id: 2,\n      name: 'Classic Striped V-Neck Crochet Vest',\n      category: 'crochet',\n      price: 1199,\n      images: ['/images/crochet-striped-vest.jpg'],\n      shortDescription: 'A timeless and elegant V-neck vest with chic teal green and cream stripes.',\n      description: 'This classic striped vest features a flattering V-neck design with beautiful teal and cream stripes. Perfect for layering or wearing as a statement piece. Handcrafted with premium yarn for comfort and durability.',\n      rating: 4.9,\n      reviewCount: 8,\n      stockStatus: 'made-to-order',\n      deliveryTime: 14,\n      yarnType: 'Premium cotton blend yarn',\n      careInstructions: 'Hand wash in cold water. Lay flat to dry.',\n      customization: [\n        {\n          type: 'thread-type',\n          label: 'Thread Type',\n          options: ['Cotton Thread', 'Wool Thread'],\n          priceModifier: { 'Wool Thread': 200 }\n        },\n        {\n          type: 'color',\n          label: 'Colors',\n          options: ['As Pictured'],\n          priceModifier: 0\n        },\n        {\n          type: 'size',\n          label: 'Size',\n          options: ['Small (S)', 'Medium (M)', 'Large (L)'],\n          priceModifier: 0\n        }\n      ]\n    },\n    3: {\n      _id: 3,\n      name: 'Minimalist Pink Tank Top',\n      category: 'crochet',\n      price: 999,\n      images: ['/images/crochet-pink-tank.jpg'],\n      shortDescription: 'Simple, sweet, and essential. This solid pink crochet tank top is a versatile wardrobe staple.',\n      description: 'This minimalist pink crochet tank top is perfect for layering or wearing on its own. Made with soft cotton yarn in a beautiful bubblegum pink shade, it features a classic fit that flatters all body types. The simple design makes it versatile enough to dress up or down.',\n      rating: 4.7,\n      reviewCount: 15,\n      stockStatus: 'made-to-order',\n      deliveryTime: 10,\n      yarnType: 'Premium cotton yarn',\n      careInstructions: 'Hand wash in cold water. Lay flat to dry. Do not bleach.',\n      customization: [\n        {\n          type: 'thread-type',\n          label: 'Thread Type',\n          options: ['Cotton Thread', 'Wool Thread'],\n          priceModifier: { 'Wool Thread': 200 }\n        },\n        {\n          type: 'color',\n          label: 'Color',\n          options: ['As Pictured'],\n          priceModifier: 0\n        },\n        {\n          type: 'size',\n          label: 'Size',\n          options: ['Small (S)', 'Medium (M)', 'Large (L)', 'Extra Large (XL)'],\n          priceModifier: 0\n        }\n      ]\n    },\n    4: {\n      _id: 4,\n      name: 'Serene Blue & Pink Pooja Mat',\n      category: 'crochet',\n      price: 449,\n      images: ['/images/crochet-pooja-mat-blue.jpg'],\n      shortDescription: 'A beautiful circular mat, lovingly crocheted in calming shades of blue and pink.',\n      description: 'This serene pooja mat features beautiful blue and pink colors in a circular design. Perfect for meditation, prayer, or as a decorative piece. Handcrafted with care and attention to detail.',\n      rating: 4.9,\n      reviewCount: 6,\n      stockStatus: 'available',\n      deliveryTime: 7,\n      yarnType: 'Cotton yarn',\n      careInstructions: 'Hand wash gently. Air dry.',\n      customization: [\n        {\n          type: 'thread-type',\n          label: 'Thread Type',\n          options: ['Cotton Thread', 'Wool Thread'],\n          priceModifier: { 'Wool Thread': 200 }\n        },\n        {\n          type: 'color',\n          label: 'Colors',\n          options: ['As Pictured'],\n          priceModifier: 0\n        }\n      ]\n    },\n    5: {\n      _id: 5,\n      name: 'Festive Multicolor Pooja Mat',\n      category: 'crochet',\n      price: 499,\n      images: ['/images/crochet-pooja-mat-multicolor.jpg'],\n      shortDescription: 'Brighten up your sacred space with this festive, multi-colored crocheted mat.',\n      description: 'This vibrant multicolor pooja mat brings joy and festivity to your sacred space. Features multiple bright colors in a beautiful circular pattern. Perfect for special occasions and daily prayers.',\n      rating: 4.8,\n      reviewCount: 4,\n      stockStatus: 'available',\n      deliveryTime: 7,\n      yarnType: 'Cotton yarn',\n      careInstructions: 'Hand wash gently. Air dry.',\n      customization: []\n    },\n    6: {\n      _id: 6,\n      name: 'Homestyle Poha Chivda',\n      category: 'food',\n      price: 25,\n      pricePerKg: 480,\n      images: ['/images/food-poha-chivda.jpg'],\n      shortDescription: 'A light, crispy, and savory Maharashtrian snack made with thin flattened rice.',\n      description: 'Our homemade Poha Chivda is made with thin flattened rice, roasted peanuts, curry leaves, and a secret blend of mild spices. The perfect guilt-free snack to enjoy with your evening tea. Freshly made every day to ensure maximum crispiness and flavor.',\n      rating: 4.6,\n      reviewCount: 23,\n      stockStatus: 'available',\n      deliveryTime: 2,\n      ingredients: ['Thin Flattened Rice (Poha)', 'Peanuts', 'Edible Vegetable Oil', 'Curry Leaves', 'Turmeric Powder', 'Mustard Seeds', 'Salt', 'Powdered Sugar', 'Asafoetida'],\n      allergens: ['Peanuts', 'Prepared in a kitchen that also handles tree nuts, gluten, and dairy'],\n      weightOptions: ['100g Packet', '250g', '500g', '1kg']\n    },\n    7: {\n      _id: 7,\n      name: 'Sweet & Flaky Shakarpara',\n      category: 'food',\n      price: 25,\n      pricePerKg: 480,\n      images: ['/images/food-shakarpara.jpg'],\n      shortDescription: 'Traditional Indian sweet snack that melts in your mouth.',\n      description: 'Our traditional Shakarpara is made with premium ingredients and traditional methods. These sweet, flaky treats are perfect for festivals, tea time, or whenever you crave something sweet and crunchy.',\n      rating: 4.7,\n      reviewCount: 18,\n      stockStatus: 'available',\n      deliveryTime: 2,\n      ingredients: ['Maida', 'Ghee', 'Sugar', 'Cardamom'],\n      allergens: ['Gluten', 'Dairy'],\n      weightOptions: ['100g Packet', '250g', '500g', '1kg']\n    },\n    8: {\n      _id: 8,\n      name: 'Crispy & Savory Namak Pare',\n      category: 'food',\n      price: 25,\n      pricePerKg: 480,\n      images: ['/images/food-namak-pare.jpg'],\n      shortDescription: 'The perfect savory companion for your tea.',\n      description: 'These crispy and savory Namak Pare are made with traditional spices and techniques. Perfect for tea time or as a light snack. Made fresh daily with quality ingredients.',\n      rating: 4.5,\n      reviewCount: 21,\n      stockStatus: 'available',\n      deliveryTime: 2,\n      ingredients: ['Maida', 'Ajwain', 'Salt'],\n      allergens: ['Gluten'],\n      weightOptions: ['100g Packet', '250g', '500g', '1kg']\n    },\n    9: {\n      _id: 9,\n      name: 'Spicy Mixture Namkeen',\n      category: 'food',\n      price: 25,\n      pricePerKg: 500,\n      images: ['/images/food-mixture.jpg'],\n      shortDescription: 'A flavor-packed medley of crispy sev, fried peanuts, and lentils.',\n      description: 'Our spicy mixture is a perfect blend of crispy sev, roasted peanuts, and various lentils with aromatic spices. A popular tea-time snack that offers a burst of flavors in every bite.',\n      rating: 4.8,\n      reviewCount: 16,\n      stockStatus: 'available',\n      deliveryTime: 2,\n      ingredients: ['Besan', 'Peanuts', 'Lentils', 'Spices'],\n      allergens: ['Peanuts', 'Gluten'],\n      weightOptions: ['100g Packet', '250g', '500g', '1kg']\n    },\n    10: {\n      _id: 10,\n      name: 'Classic Salty Mathri',\n      category: 'food',\n      price: 25,\n      pricePerKg: 480,\n      images: ['/images/food-mathri.jpg'],\n      shortDescription: 'Traditional North Indian flaky biscuit seasoned with ajwain.',\n      description: 'Our classic Mathri is made with traditional recipes passed down through generations. These flaky, salty biscuits are seasoned with ajwain (carom seeds) and are perfect with tea or as a light snack.',\n      rating: 4.6,\n      reviewCount: 14,\n      stockStatus: 'available',\n      deliveryTime: 2,\n      ingredients: ['Maida', 'Ghee', 'Ajwain', 'Salt'],\n      allergens: ['Gluten', 'Dairy'],\n      weightOptions: ['100g Packet', '250g', '500g', '1kg']\n    },\n    11: {\n      _id: 11,\n      name: 'Baked Jeera Biscuits',\n      category: 'food',\n      price: 25,\n      pricePerKg: 480,\n      images: ['/images/food-jeera-biscuits.webp'],\n      shortDescription: 'Light, savory, and crumbly biscuits flavored with roasted cumin.',\n      description: 'These baked jeera biscuits are light, crumbly, and full of roasted cumin flavor. Perfect for tea time or as a healthy snack option. Baked to perfection with minimal oil.',\n      rating: 4.4,\n      reviewCount: 11,\n      stockStatus: 'available',\n      deliveryTime: 2,\n      ingredients: ['Maida', 'Butter', 'Jeera', 'Salt'],\n      allergens: ['Gluten', 'Dairy'],\n      weightOptions: ['100g Packet', '250g', '500g', '1kg']\n    },\n    12: {\n      _id: 12,\n      name: 'Homemade Gujiya',\n      category: 'food',\n      price: 150,\n      images: ['/images/food-gujiya.jpg'],\n      shortDescription: 'Classic festive delicacy filled with khoya, nuts, and coconut.',\n      description: 'Our homemade Gujiya is a traditional festive sweet filled with rich khoya, nuts, and coconut. Made with love using traditional methods, these are perfect for celebrations and special occasions.',\n      rating: 4.9,\n      reviewCount: 7,\n      stockStatus: 'made-to-order',\n      deliveryTime: 3,\n      ingredients: ['Maida', 'Khoya', 'Coconut', 'Nuts'],\n      allergens: ['Gluten', 'Dairy', 'Nuts'],\n      weightOptions: ['6 pieces', '12 pieces', '24 pieces']\n    }\n  };\n\n\n\n  useEffect(() => {\n    const loadProduct = async () => {\n      let productData = sampleProducts[id];\n      \n      // If not found in sample products, check database products\n      if (!productData) {\n        try {\n          const response = await fetch(`${config.API_URL}/admin-products`);\n          const data = await response.json();\n          if (data.success) {\n            productData = data.products.find(p => p._id.toString() === id);\n            console.log('ðŸ›ï¸ Found admin product:', productData?.name);\n          }\n        } catch (error) {\n          console.error('Database unavailable:', error);\n          productData = null;\n        }\n      }\n      \n      if (productData) {\n        setProduct(productData);\n        // Initialize with base price for food items (100g) or regular price for crochet\n        let initialPrice;\n        if (productData.name === 'Homemade Gujiya') {\n          initialPrice = 150; // 6 pieces price\n        } else if (productData.category === 'food' && productData.pricePerKg) {\n          initialPrice = Math.round((productData.pricePerKg * 0.1)); // 100g price\n        } else {\n          initialPrice = productData.price;\n        }\n        setCurrentPrice(initialPrice);\n        \n        // Load reviews from database using product name\n        try {\n          const response = await fetch(`${config.API_URL}/reviews/all`);\n          const data = await response.json();\n          if (data.success) {\n            // Filter reviews for this specific product\n            const productReviews = data.reviews.filter(review => \n              review.productName === productData.name || \n              review.productId === productData.name\n            );\n            setReviews(productReviews);\n            console.log('â­ Loaded reviews for product:', productData.name, productReviews.length);\n          } else {\n            setReviews([]);\n          }\n        } catch (error) {\n          console.error('Failed to load reviews from database:', error);\n          setReviews([]);\n        }\n      }\n      setLoading(false);\n    };\n    \n    loadProduct();\n  }, [id]);\n\n  const calculatePrice = (customizations, weight) => {\n    let newPrice = product.price;\n    \n    // For food items, calculate price based on weight\n    if (product.category === 'food' && weight) {\n      if (product.name === 'Homemade Gujiya') {\n        // Special pricing for Gujiya\n        if (weight === '6 pieces') newPrice = 150;\n        else if (weight === '12 pieces') newPrice = 300;\n        else if (weight === '24 pieces') newPrice = 600;\n        else newPrice = 150; // default to 6 pieces price\n      } else if (product.pricePerKg) {\n        // Handle weight-based pricing for other food items\n        let weightValue;\n        if (weight.includes('kg')) {\n          weightValue = parseFloat(weight.replace(/[^0-9.]/g, ''));\n        } else {\n          weightValue = parseFloat(weight.replace(/[^0-9.]/g, '')) / 1000; // Convert g to kg\n        }\n        newPrice = product.pricePerKg * weightValue;\n      }\n    }\n    \n    // Add customization modifiers\n    product.customization?.forEach(option => {\n      const selectedValue = customizations[option.type];\n      if (selectedValue && option.priceModifier && typeof option.priceModifier === 'object') {\n        newPrice += option.priceModifier[selectedValue] || 0;\n      }\n    });\n    \n    return Math.round(newPrice);\n  };\n\n  const handleCustomizationChange = (type, value) => {\n    const newCustomizations = { ...customizations, [type]: value };\n    setCustomizations(newCustomizations);\n    setCurrentPrice(calculatePrice(newCustomizations, selectedWeight));\n  };\n\n  const handleWeightChange = (weight) => {\n    setSelectedWeight(weight);\n    let newPrice;\n    if (product.name === 'Homemade Gujiya') {\n      if (weight === '6 pieces') newPrice = 150;\n      else if (weight === '12 pieces') newPrice = 300;\n      else if (weight === '24 pieces') newPrice = 600;\n    } else {\n      newPrice = calculatePrice(customizations, weight);\n    }\n    setCurrentPrice(newPrice);\n  };\n\n  const getDeliveryInfo = () => {\n    let deliveryDays = product.deliveryTime;\n    let note = '';\n    \n    if (product.category === 'food' && quantity > 5) {\n      deliveryDays = 2;\n      note = 'May vary due to large quantity';\n    } else if (product.category === 'crochet' && quantity > 3) {\n      note = 'May vary due to large quantity';\n    }\n    \n    return { days: deliveryDays, note };\n  };\n\n  const isSelectionComplete = () => {\n    // For food items, weight must be selected\n    if (product.category === 'food' && product.weightOptions && !selectedWeight) {\n      return false;\n    }\n    \n    // For crochet items, all customization options must be selected\n    if (product.category === 'crochet' && product.customization) {\n      return product.customization.every(option => customizations[option.type]);\n    }\n    \n    return true;\n  };\n\n  const getSelectionMessage = () => {\n    if (product.category === 'food' && product.weightOptions && !selectedWeight) {\n      return product.name === 'Homemade Gujiya' ? 'Please select a quantity option first' : 'Please select a weight option first';\n    }\n    \n    if (product.category === 'crochet' && product.customization) {\n      const missingOptions = product.customization.filter(option => !customizations[option.type]);\n      if (missingOptions.length > 0) {\n        return `Please select: ${missingOptions.map(opt => opt.label).join(', ')}`;\n      }\n    }\n    \n    return '';\n  };\n\n  const handleAddToCart = () => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    \n    if (!isSelectionComplete()) {\n      showToast(getSelectionMessage(), 'error');\n      return;\n    }\n    \n    if (product) {\n      setButtonAnimation(true);\n      setTimeout(() => setButtonAnimation(false), 200);\n      \n      // Create floating cart animation\n      const newCarts = Array.from({ length: 2 }, (_, i) => ({\n        id: Date.now() + i,\n        left: Math.random() * 30 - 15,\n        delay: i * 150\n      }));\n      setFloatingCarts(newCarts);\n      setTimeout(() => setFloatingCarts([]), 1000);\n      \n      addToCart(product, quantity, customizations, selectedWeight);\n      showToast('Added to cart successfully!', 'success');\n    }\n  };\n\n  const handleBuyNow = () => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    \n    if (!isSelectionComplete()) {\n      showToast(getSelectionMessage(), 'error');\n      return;\n    }\n    \n    if (product) {\n      addToCart(product, quantity, customizations, selectedWeight);\n      navigate('/checkout');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ \n        minHeight: '60vh', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center' \n      }}>\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div style={{ \n        minHeight: '60vh', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center',\n        flexDirection: 'column',\n        gap: '1rem'\n      }}>\n        <h2>Product not found</h2>\n        <button onClick={() => navigate('/products')} className=\"btn btn-primary\">\n          Back to Products\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '2rem 0', minHeight: '100vh' }}>\n      <div className=\"container\">\n        {/* Back Button */}\n        <button\n          onClick={() => navigate(-1)}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            background: 'none',\n            border: 'none',\n            color: 'var(--primary-color)',\n            fontSize: '0.9rem',\n            cursor: 'pointer',\n            marginBottom: '2rem'\n          }}\n        >\n          <ArrowLeft size={16} />\n          Back\n        </button>\n\n        <div className=\"animate-fade-in\" style={{ \n          display: 'grid', \n          gridTemplateColumns: '1fr 1fr', \n          gap: '3rem',\n          marginBottom: '3rem'\n        }}>\n          {/* Product Images */}\n          <div className=\"animate-slide-in\">\n            <div style={{ \n              border: '1px solid var(--border-color)',\n              borderRadius: '16px',\n              overflow: 'hidden',\n              marginBottom: '1rem'\n            }}>\n              <img\n                src={product.images[selectedImage]}\n                alt={product.name}\n                style={{\n                  width: '100%',\n                  height: '400px',\n                  objectFit: 'cover'\n                }}\n                onError={(e) => {\n                  e.target.src = '/images/placeholder.jpg';\n                }}\n              />\n            </div>\n            \n            {product.images.length > 1 && (\n              <div style={{ \n                display: 'flex', \n                gap: '0.5rem',\n                overflowX: 'auto'\n              }}>\n                {product.images.map((image, index) => (\n                  <img\n                    key={index}\n                    src={image}\n                    alt={`${product.name} ${index + 1}`}\n                    style={{\n                      width: '80px',\n                      height: '80px',\n                      objectFit: 'cover',\n                      borderRadius: '8px',\n                      cursor: 'pointer',\n                      border: selectedImage === index ? '2px solid var(--primary-color)' : '1px solid var(--border-color)'\n                    }}\n                    onClick={() => setSelectedImage(index)}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Product Info */}\n          <div className=\"animate-slide-up\" style={{ animationDelay: '0.2s' }}>\n            <div style={{ marginBottom: '1rem' }}>\n              <span style={{\n                background: product.category === 'crochet' ? 'var(--primary-color)' : 'var(--success)',\n                color: 'white',\n                padding: '0.25rem 0.75rem',\n                borderRadius: '12px',\n                fontSize: '0.8rem',\n                fontWeight: '600',\n                textTransform: 'capitalize'\n              }}>\n                {product.category}\n              </span>\n            </div>\n\n            <h1 style={{ \n              fontSize: '2rem', \n              fontWeight: '800',\n              marginBottom: '1rem',\n              lineHeight: '1.2'\n            }}>\n              {product.name}\n            </h1>\n\n\n\n            <div style={{ marginBottom: '1.5rem' }}>\n              <div style={{ \n                fontSize: '2rem', \n                fontWeight: '800',\n                color: 'var(--primary-color)',\n                marginBottom: '0.5rem'\n              }}>\n                â‚¹{currentPrice}\n                {product.pricePerKg && (\n                  <span style={{ \n                    fontSize: '1rem', \n                    color: 'var(--text-secondary)',\n                    fontWeight: '400',\n                    marginLeft: '0.5rem'\n                  }}>\n                    (â‚¹{product.pricePerKg}/kg)\n                  </span>\n                )}\n              </div>\n              \n              <div style={{ \n                display: 'flex', \n                alignItems: 'center', \n                gap: '1rem',\n                fontSize: '0.9rem',\n                color: 'var(--text-secondary)'\n              }}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n                  <Truck size={16} />\n                  Delivery in {getDeliveryInfo().days} days\n                  {getDeliveryInfo().note && (\n                    <span style={{ fontSize: '0.8rem', color: 'var(--warning)', marginLeft: '0.5rem' }}>\n                      ({getDeliveryInfo().note})\n                    </span>\n                  )}\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n                  <Shield size={16} />\n                  {product.stockStatus === 'made-to-order' ? 'Made to Order' : 'In Stock'}\n                </div>\n              </div>\n            </div>\n\n            <p style={{ \n              color: 'var(--text-secondary)', \n              lineHeight: '1.6',\n              marginBottom: '2rem'\n            }}>\n              {product.description}\n            </p>\n\n            {/* Customization Options */}\n            {product.customization && (\n              <div style={{ marginBottom: '2rem' }}>\n                <h3 style={{ marginBottom: '1rem' }}>Customization Options</h3>\n                {product.customization.map((option) => (\n                  <div key={option.type} style={{ marginBottom: '1rem' }}>\n                    <label style={{ \n                      display: 'block', \n                      fontWeight: '600',\n                      marginBottom: '0.5rem'\n                    }}>\n                      {option.label}\n                    </label>\n                    <select\n                      value={customizations[option.type] || ''}\n                      onChange={(e) => handleCustomizationChange(option.type, e.target.value)}\n                      style={{\n                        width: '100%',\n                        padding: '0.75rem',\n                        border: `1px solid ${!customizations[option.type] ? 'var(--warning)' : 'var(--border-color)'}`,\n                        borderRadius: '8px',\n                        fontSize: '0.9rem',\n                        background: !customizations[option.type] ? 'var(--warning-light)' : 'var(--bg-primary)'\n                      }}\n                    >\n                      <option value=\"\">Select {option.label} *</option>\n                      {option.options.map((opt) => (\n                        <option key={opt} value={opt}>{opt}</option>\n                      ))}\n                    </select>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Weight Options for Food */}\n            {product.weightOptions && product.weightOptions.length > 0 && (\n              <div style={{ marginBottom: '2rem' }}>\n                <h3 style={{ marginBottom: '1rem' }}>\n                  {product.name === 'Homemade Gujiya' ? 'Quantity Options *' : 'Weight Options *'}\n                </h3>\n                <div style={{ \n                  display: 'grid', \n                  gridTemplateColumns: product.name === 'Homemade Gujiya' ? 'repeat(3, 1fr)' : 'repeat(auto-fit, minmax(120px, 1fr))',\n                  gap: '0.75rem'\n                }}>\n                  {product.weightOptions.map((weight) => {\n                    let weightPrice, displayText;\n                    \n                    if (product.name === 'Homemade Gujiya') {\n                      if (weight === '6 pieces') {\n                        weightPrice = 150;\n                        displayText = '6 Pieces';\n                      } else if (weight === '12 pieces') {\n                        weightPrice = 300;\n                        displayText = '12 Pieces';\n                      } else if (weight === '24 pieces') {\n                        weightPrice = 600;\n                        displayText = '24 Pieces';\n                      }\n                      console.log('Gujiya pricing:', weight, weightPrice);\n                    } else {\n                      weightPrice = calculatePrice(customizations, weight);\n                      displayText = weight;\n                    }\n                    \n                    return (\n                      <button\n                        key={weight}\n                        onClick={() => handleWeightChange(weight)}\n                        style={{\n                          padding: '1rem 0.75rem',\n                          border: selectedWeight === weight ? '2px solid var(--primary-color)' : '1px solid var(--border-color)',\n                          borderRadius: '12px',\n                          background: selectedWeight === weight ? 'var(--primary-color)' : 'var(--bg-primary)',\n                          color: selectedWeight === weight ? 'white' : 'var(--text-primary)',\n                          cursor: 'pointer',\n                          fontSize: '0.9rem',\n                          fontWeight: selectedWeight === weight ? '600' : '400',\n                          transition: 'all 0.2s ease',\n                          display: 'flex',\n                          flexDirection: 'column',\n                          alignItems: 'center',\n                          gap: '0.5rem',\n                          boxShadow: selectedWeight === weight ? '0 4px 12px rgba(217, 70, 239, 0.3)' : '0 2px 4px rgba(0,0,0,0.1)'\n                        }}\n                      >\n                        <span style={{ fontWeight: '600' }}>{displayText}</span>\n                        <span style={{ \n                          fontSize: '1rem', \n                          fontWeight: '700',\n                          color: selectedWeight === weight ? 'white' : 'var(--primary-color)'\n                        }}>â‚¹{weightPrice}</span>\n                      </button>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n\n            {/* Quantity */}\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '1rem',\n              marginBottom: '2rem'\n            }}>\n              <label style={{ fontWeight: '600' }}>Quantity:</label>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <button\n                  onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                  className=\"quantity-btn\"\n                  style={{\n                    width: '36px',\n                    height: '36px',\n                    borderRadius: '8px',\n                    cursor: 'pointer'\n                  }}\n                >\n                  -\n                </button>\n                <span style={{ \n                  minWidth: '40px', \n                  textAlign: 'center',\n                  fontWeight: '600'\n                }}>\n                  {quantity}\n                </span>\n                <button\n                  onClick={() => setQuantity(quantity + 1)}\n                  className=\"quantity-btn\"\n                  style={{\n                    width: '36px',\n                    height: '36px',\n                    borderRadius: '8px',\n                    cursor: 'pointer'\n                  }}\n                >\n                  +\n                </button>\n              </div>\n              {((product.category === 'food' && quantity > 5) || (product.category === 'crochet' && quantity > 3)) && (\n                <div style={{\n                  background: 'var(--warning-light)',\n                  color: 'var(--warning-dark)',\n                  padding: '0.5rem 0.75rem',\n                  borderRadius: '8px',\n                  fontSize: '0.8rem',\n                  fontWeight: '600',\n                  border: '1px solid var(--warning)'\n                }}>\n                  âš ï¸ Large quantity - delivery time may vary, owner will inform soon\n                </div>\n              )}\n            </div>\n\n            {/* Selection Warning */}\n            {!isSelectionComplete() && (\n              <div style={{\n                background: 'var(--warning-light)',\n                border: '1px solid var(--warning)',\n                borderRadius: '8px',\n                padding: '0.75rem',\n                marginBottom: '1rem',\n                color: 'var(--warning-dark)',\n                fontSize: '0.9rem',\n                fontWeight: '600'\n              }}>\n                âš ï¸ {getSelectionMessage()}\n              </div>\n            )}\n\n            {/* Action Buttons */}\n            <div className=\"animate-scale-in\" style={{ \n              display: 'flex', \n              gap: '1rem',\n              marginBottom: '2rem',\n              animationDelay: '0.3s'\n            }}>\n              <button\n                onClick={handleAddToCart}\n                disabled={!isSelectionComplete()}\n                className={`hover-scale ${buttonAnimation ? 'animate-button-pop' : ''}`}\n                style={{\n                  flex: 1,\n                  padding: '1rem',\n                  background: isSelectionComplete() ? 'var(--bg-secondary)' : 'var(--bg-tertiary)',\n                  border: `2px solid ${isSelectionComplete() ? 'var(--primary-color)' : 'var(--border-color)'}`,\n                  color: isSelectionComplete() ? 'var(--primary-color)' : 'var(--text-muted)',\n                  borderRadius: '12px',\n                  fontWeight: '600',\n                  cursor: isSelectionComplete() ? 'pointer' : 'not-allowed',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  gap: '0.5rem',\n                  position: 'relative',\n                  opacity: isSelectionComplete() ? 1 : 0.6\n                }}\n              >\n                <ShoppingCart size={20} />\n                Add to Cart\n                {floatingCarts.map(cart => (\n                  <div\n                    key={cart.id}\n                    className=\"animate-floating-cart\"\n                    style={{\n                      position: 'absolute',\n                      left: `${cart.left}px`,\n                      animationDelay: `${cart.delay}ms`,\n                      fontSize: '1.5rem'\n                    }}\n                  >\n                    ðŸ›’\n                  </div>\n                ))}\n              </button>\n              <button\n                onClick={handleBuyNow}\n                disabled={!isSelectionComplete()}\n                className=\"hover-scale\"\n                style={{\n                  flex: 1,\n                  padding: '1rem',\n                  background: isSelectionComplete() ? 'var(--primary-color)' : 'var(--bg-tertiary)',\n                  border: 'none',\n                  color: isSelectionComplete() ? 'white' : 'var(--text-muted)',\n                  borderRadius: '12px',\n                  fontWeight: '600',\n                  cursor: isSelectionComplete() ? 'pointer' : 'not-allowed',\n                  opacity: isSelectionComplete() ? 1 : 0.6\n                }}\n              >\n                Buy Now\n              </button>\n              <button\n                onClick={() => {\n                  setHeartAnimation(true);\n                  setTimeout(() => setHeartAnimation(false), 300);\n                  \n                  // Create floating hearts\n                  const newHearts = Array.from({ length: 3 }, (_, i) => ({\n                    id: Date.now() + i,\n                    left: Math.random() * 20 - 10,\n                    delay: i * 100\n                  }));\n                  setFloatingHearts(newHearts);\n                  setTimeout(() => setFloatingHearts([]), 1000);\n                  \n                  if (isInWishlist(product._id)) {\n                    removeFromWishlist(product._id);\n                    showToast('Removed from wishlist', 'success');\n                  } else {\n                    addToWishlist(product);\n                    showToast('Added to wishlist!', 'success');\n                  }\n                }}\n                className={heartAnimation ? 'animate-heart-pop' : ''}\n                style={{\n                  padding: '1rem',\n                  background: 'var(--bg-secondary)',\n                  border: '1px solid var(--border-color)',\n                  borderRadius: '12px',\n                  cursor: 'pointer',\n                  color: isInWishlist(product._id) ? '#ef4444' : 'var(--text-secondary)',\n                  position: 'relative'\n                }}\n              >\n                <Heart size={20} fill={isInWishlist(product._id) ? 'currentColor' : 'none'} />\n                {floatingHearts.map(heart => (\n                  <div\n                    key={heart.id}\n                    className=\"floating-heart animate-floating-heart\"\n                    style={{\n                      left: `${heart.left}px`,\n                      animationDelay: `${heart.delay}ms`\n                    }}\n                  >\n                    â¤ï¸\n                  </div>\n                ))}\n              </button>\n            </div>\n\n            {/* Product Details */}\n            <div style={{ \n              background: 'var(--bg-secondary)',\n              padding: '1.5rem',\n              borderRadius: '12px',\n              border: '1px solid var(--border-color)'\n            }}>\n              <h3 style={{ marginBottom: '1rem' }}>Product Details</h3>\n              \n              {product.yarnType && (\n                <div style={{ marginBottom: '0.75rem' }}>\n                  <strong>Yarn Type:</strong> {product.yarnType}\n                </div>\n              )}\n              \n              {product.careInstructions && (\n                <div style={{ marginBottom: '0.75rem' }}>\n                  <strong>Care Instructions:</strong> {product.careInstructions}\n                </div>\n              )}\n              \n              {product.ingredients && (\n                <div style={{ marginBottom: '0.75rem' }}>\n                  <strong>Ingredients:</strong> {product.ingredients.join(', ')}\n                </div>\n              )}\n              \n              {product.allergens && (\n                <div style={{ marginBottom: '0.75rem' }}>\n                  <strong>Allergen Info:</strong> {product.allergens.join(', ')}\n                </div>\n              )}\n              \n              <div>\n                <strong>Delivery Area:</strong> Pan-India delivery available\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Reviews Section */}\n        <div className=\"animate-fade-in\" style={{ \n          background: 'var(--bg-secondary)',\n          padding: '2rem',\n          borderRadius: '16px',\n          border: '1px solid var(--border-color)',\n          animationDelay: '0.4s'\n        }}>\n          <h3 style={{ marginBottom: '1.5rem' }}>Customer Reviews</h3>\n          \n          {reviews.length === 0 ? (\n            <p style={{ color: 'var(--text-secondary)' }}>No reviews yet. Be the first to review!</p>\n          ) : (\n            <div style={{ display: 'grid', gap: '1rem' }}>\n              {reviews.map((review) => (\n                <div\n                  key={review._id}\n                  style={{\n                    padding: '1rem',\n                    background: 'var(--bg-primary)',\n                    borderRadius: '8px',\n                    border: '1px solid var(--border-light)'\n                  }}\n                >\n                  <div style={{ \n                    display: 'flex', \n                    justifyContent: 'space-between',\n                    alignItems: 'start',\n                    marginBottom: '0.5rem'\n                  }}>\n                    <div>\n                      <div style={{ fontWeight: '600', marginBottom: '0.25rem' }}>\n                        {review.user?.name || 'Anonymous'}\n                        {review.verified && (\n                          <span style={{ \n                            color: 'var(--success)',\n                            fontSize: '0.8rem',\n                            marginLeft: '0.5rem'\n                          }}>\n                            âœ“ Verified Purchase\n                          </span>\n                        )}\n                      </div>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n                        {[...Array(5)].map((_, i) => (\n                          <Star\n                            key={i}\n                            size={12}\n                            fill={i < review.rating ? '#fbbf24' : 'none'}\n                            color={i < review.rating ? '#fbbf24' : '#d1d5db'}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                    <span style={{ \n                      color: 'var(--text-secondary)',\n                      fontSize: '0.8rem'\n                    }}>\n                      {new Date(review.createdAt).toLocaleDateString()}\n                    </span>\n                  </div>\n                  <p style={{ \n                    color: 'var(--text-secondary)',\n                    lineHeight: '1.5',\n                    margin: 0\n                  }}>\n                    {review.comment}\n                  </p>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}