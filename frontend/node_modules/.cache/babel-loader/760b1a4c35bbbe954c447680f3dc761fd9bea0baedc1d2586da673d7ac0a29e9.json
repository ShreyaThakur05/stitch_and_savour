{"ast":null,"code":"import axios from 'axios';\nimport { config } from '../config/config';\nconst API_URL = config.API_URL;\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\nexport const cartService = {\n  // Sync cart to backend\n  syncCart: async cartItems => {\n    try {\n      const response = await api.put('/cart', {\n        items: cartItems\n      });\n      return response.data;\n    } catch (error) {\n      console.warn('Failed to sync cart to backend:', error.message);\n      return {\n        success: false\n      };\n    }\n  },\n  // Get cart from backend\n  getCart: async () => {\n    try {\n      const response = await api.get('/cart');\n      return response.data.cart.items || [];\n    } catch (error) {\n      console.warn('Failed to get cart from backend:', error.message);\n      return [];\n    }\n  },\n  // Clear cart\n  clearCart: async () => {\n    try {\n      await api.delete('/cart');\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.warn('Failed to clear cart on backend:', error.message);\n      return {\n        success: false\n      };\n    }\n  }\n};\nexport default cartService;","map":{"version":3,"names":["axios","config","API_URL","api","create","baseURL","headers","interceptors","request","use","token","localStorage","getItem","Authorization","error","Promise","reject","cartService","syncCart","cartItems","response","put","items","data","console","warn","message","success","getCart","get","cart","clearCart","delete"],"sources":["D:/project1/stitch_and_savour/frontend/src/services/cartService.js"],"sourcesContent":["import axios from 'axios';\n\nimport { config } from '../config/config';\n\nconst API_URL = config.API_URL;\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const cartService = {\n  // Sync cart to backend\n  syncCart: async (cartItems) => {\n    try {\n      const response = await api.put('/cart', { items: cartItems });\n      return response.data;\n    } catch (error) {\n      console.warn('Failed to sync cart to backend:', error.message);\n      return { success: false };\n    }\n  },\n\n  // Get cart from backend\n  getCart: async () => {\n    try {\n      const response = await api.get('/cart');\n      return response.data.cart.items || [];\n    } catch (error) {\n      console.warn('Failed to get cart from backend:', error.message);\n      return [];\n    }\n  },\n\n  // Clear cart\n  clearCart: async () => {\n    try {\n      await api.delete('/cart');\n      return { success: true };\n    } catch (error) {\n      console.warn('Failed to clear cart on backend:', error.message);\n      return { success: false };\n    }\n  }\n};\n\nexport default cartService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,MAAM,QAAQ,kBAAkB;AAEzC,MAAMC,OAAO,GAAGD,MAAM,CAACC,OAAO;AAE9B,MAAMC,GAAG,GAAGH,KAAK,CAACI,MAAM,CAAC;EACvBC,OAAO,EAAEH,OAAO;EAChBI,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBR,MAAM,IAAK;EACV,MAAMS,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTT,MAAM,CAACK,OAAO,CAACO,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOT,MAAM;AACf,CAAC,EACAa,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC;AAED,OAAO,MAAMG,WAAW,GAAG;EACzB;EACAC,QAAQ,EAAE,MAAOC,SAAS,IAAK;IAC7B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMjB,GAAG,CAACkB,GAAG,CAAC,OAAO,EAAE;QAAEC,KAAK,EAAEH;MAAU,CAAC,CAAC;MAC7D,OAAOC,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOT,KAAK,EAAE;MACdU,OAAO,CAACC,IAAI,CAAC,iCAAiC,EAAEX,KAAK,CAACY,OAAO,CAAC;MAC9D,OAAO;QAAEC,OAAO,EAAE;MAAM,CAAC;IAC3B;EACF,CAAC;EAED;EACAC,OAAO,EAAE,MAAAA,CAAA,KAAY;IACnB,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMjB,GAAG,CAAC0B,GAAG,CAAC,OAAO,CAAC;MACvC,OAAOT,QAAQ,CAACG,IAAI,CAACO,IAAI,CAACR,KAAK,IAAI,EAAE;IACvC,CAAC,CAAC,OAAOR,KAAK,EAAE;MACdU,OAAO,CAACC,IAAI,CAAC,kCAAkC,EAAEX,KAAK,CAACY,OAAO,CAAC;MAC/D,OAAO,EAAE;IACX;EACF,CAAC;EAED;EACAK,SAAS,EAAE,MAAAA,CAAA,KAAY;IACrB,IAAI;MACF,MAAM5B,GAAG,CAAC6B,MAAM,CAAC,OAAO,CAAC;MACzB,OAAO;QAAEL,OAAO,EAAE;MAAK,CAAC;IAC1B,CAAC,CAAC,OAAOb,KAAK,EAAE;MACdU,OAAO,CAACC,IAAI,CAAC,kCAAkC,EAAEX,KAAK,CAACY,OAAO,CAAC;MAC/D,OAAO;QAAEC,OAAO,EAAE;MAAM,CAAC;IAC3B;EACF;AACF,CAAC;AAED,eAAeV,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}