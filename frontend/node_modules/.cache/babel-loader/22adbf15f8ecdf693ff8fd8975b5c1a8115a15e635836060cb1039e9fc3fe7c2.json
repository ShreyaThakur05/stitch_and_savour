{"ast":null,"code":"import jsPDF from 'jspdf';\nexport const generateInvoicePDF = order => {\n  var _order$items;\n  const pdf = new jsPDF();\n\n  // Header - Business Details\n  pdf.setFontSize(22);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text('Stitch & Savour', 20, 25);\n  pdf.setFontSize(10);\n  pdf.setTextColor(100, 100, 100);\n  pdf.text('Homemade Food & Handcrafted Crochet Products', 20, 35);\n  pdf.text('Contact: +91 9970944685 | Email: sangita.shreyas@gmail.com', 20, 42);\n\n  // Invoice Title & Number\n  pdf.setFontSize(18);\n  pdf.setTextColor(0, 0, 0);\n  pdf.text('INVOICE', 150, 25);\n  pdf.setFontSize(10);\n  pdf.text(`Invoice #: ${order.orderNumber}`, 150, 35);\n  pdf.text(`Date: ${new Date(order.createdAt).toLocaleDateString('en-IN')}`, 150, 42);\n\n  // Separator line\n  pdf.setLineWidth(0.5);\n  pdf.line(20, 50, 190, 50);\n\n  // Customer Details Section\n  pdf.setFontSize(12);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text('Bill To:', 20, 65);\n  pdf.setFontSize(10);\n  pdf.setTextColor(0, 0, 0);\n\n  // Get customer data from localStorage order\n  const storedOrders = JSON.parse(localStorage.getItem('userOrders') || '[]');\n  const fullOrder = storedOrders.find(o => o.orderNumber === order.orderNumber) || order;\n  pdf.text(`Name: ${order.customerName || fullOrder.customerName || 'Customer'}`, 20, 75);\n\n  // Get phone from order or user profile, avoid 'N/A'\n  const phoneNumber = order.customerPhone || fullOrder.customerPhone || order.phone || fullOrder.phone;\n  if (phoneNumber && phoneNumber !== 'N/A') {\n    pdf.text(`Phone: ${phoneNumber}`, 20, 82);\n  }\n\n  // Payment Method\n  pdf.text(`Payment: ${order.paymentMethod === 'qr' ? 'Online Payment' : 'Cash on Delivery'}`, 120, 75);\n\n  // Items Table Header\n  const tableStartY = 100;\n  pdf.setFillColor(245, 245, 245);\n  pdf.rect(20, tableStartY - 5, 170, 12, 'F');\n  pdf.setFontSize(10);\n  pdf.setTextColor(0, 0, 0);\n  pdf.text('Item', 25, tableStartY);\n  pdf.text('Qty', 120, tableStartY);\n  pdf.text('Price', 140, tableStartY);\n  pdf.text('Total', 165, tableStartY);\n\n  // Items List\n  let yPos = tableStartY + 15;\n  pdf.setFontSize(9);\n  (_order$items = order.items) === null || _order$items === void 0 ? void 0 : _order$items.forEach(item => {\n    const itemPrice = item.finalPrice || item.price;\n    const itemTotal = item.quantity * itemPrice;\n    const itemName = item.selectedWeight ? `${item.name} (${item.selectedWeight})` : item.name;\n    const hasLargeQuantity = item.category === 'food' && item.quantity > 5 || item.category === 'crochet' && item.quantity > 3;\n    pdf.text(itemName.length > 35 ? itemName.substring(0, 35) + '...' : itemName, 25, yPos);\n    pdf.text(item.quantity.toString(), 125, yPos);\n    pdf.text(`Rs.${itemPrice}`, 140, yPos);\n    pdf.text(`Rs.${itemTotal}`, 165, yPos);\n    if (hasLargeQuantity) {\n      yPos += 8;\n      pdf.setFontSize(7);\n      pdf.setTextColor(255, 140, 0);\n      pdf.text('* Large quantity - delivery time may vary, owner will inform soon', 25, yPos);\n      pdf.setFontSize(9);\n      pdf.setTextColor(0, 0, 0);\n      yPos += 8;\n    } else {\n      yPos += 12;\n    }\n  });\n\n  // Total Section\n  pdf.setLineWidth(0.3);\n  pdf.line(120, yPos + 5, 190, yPos + 5);\n  yPos += 15;\n  pdf.setFontSize(11);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text(`Total Amount: Rs.${order.total || order.totalAmount}`, 120, yPos);\n\n  // Footer\n  yPos += 25;\n  pdf.setFontSize(8);\n  pdf.setTextColor(100, 100, 100);\n  pdf.text('Thank you for choosing Stitch & Savour!', 20, yPos);\n  pdf.text('For any queries, contact us at +91 9970944685', 20, yPos + 7);\n\n  // Download\n  pdf.save(`Invoice-${order.orderNumber}.pdf`);\n};","map":{"version":3,"names":["jsPDF","generateInvoicePDF","order","_order$items","pdf","setFontSize","setTextColor","text","orderNumber","Date","createdAt","toLocaleDateString","setLineWidth","line","storedOrders","JSON","parse","localStorage","getItem","fullOrder","find","o","customerName","phoneNumber","customerPhone","phone","paymentMethod","tableStartY","setFillColor","rect","yPos","items","forEach","item","itemPrice","finalPrice","price","itemTotal","quantity","itemName","selectedWeight","name","hasLargeQuantity","category","length","substring","toString","total","totalAmount","save"],"sources":["d:/project1/stitch_and_savour/frontend/src/utils/pdfGenerator.js"],"sourcesContent":["import jsPDF from 'jspdf';\n\nexport const generateInvoicePDF = (order) => {\n  const pdf = new jsPDF();\n  \n  // Header - Business Details\n  pdf.setFontSize(22);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text('Stitch & Savour', 20, 25);\n  \n  pdf.setFontSize(10);\n  pdf.setTextColor(100, 100, 100);\n  pdf.text('Homemade Food & Handcrafted Crochet Products', 20, 35);\n  pdf.text('Contact: +91 9970944685 | Email: sangita.shreyas@gmail.com', 20, 42);\n  \n  // Invoice Title & Number\n  pdf.setFontSize(18);\n  pdf.setTextColor(0, 0, 0);\n  pdf.text('INVOICE', 150, 25);\n  \n  pdf.setFontSize(10);\n  pdf.text(`Invoice #: ${order.orderNumber}`, 150, 35);\n  pdf.text(`Date: ${new Date(order.createdAt).toLocaleDateString('en-IN')}`, 150, 42);\n  \n  // Separator line\n  pdf.setLineWidth(0.5);\n  pdf.line(20, 50, 190, 50);\n  \n  // Customer Details Section\n  pdf.setFontSize(12);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text('Bill To:', 20, 65);\n  \n  pdf.setFontSize(10);\n  pdf.setTextColor(0, 0, 0);\n  \n  // Get customer data from localStorage order\n  const storedOrders = JSON.parse(localStorage.getItem('userOrders') || '[]');\n  const fullOrder = storedOrders.find(o => o.orderNumber === order.orderNumber) || order;\n  \n  pdf.text(`Name: ${order.customerName || fullOrder.customerName || 'Customer'}`, 20, 75);\n  \n  // Get phone from order or user profile, avoid 'N/A'\n  const phoneNumber = order.customerPhone || fullOrder.customerPhone || order.phone || fullOrder.phone;\n  if (phoneNumber && phoneNumber !== 'N/A') {\n    pdf.text(`Phone: ${phoneNumber}`, 20, 82);\n  }\n  \n  // Payment Method\n  pdf.text(`Payment: ${order.paymentMethod === 'qr' ? 'Online Payment' : 'Cash on Delivery'}`, 120, 75);\n  \n  // Items Table Header\n  const tableStartY = 100;\n  pdf.setFillColor(245, 245, 245);\n  pdf.rect(20, tableStartY - 5, 170, 12, 'F');\n  \n  pdf.setFontSize(10);\n  pdf.setTextColor(0, 0, 0);\n  pdf.text('Item', 25, tableStartY);\n  pdf.text('Qty', 120, tableStartY);\n  pdf.text('Price', 140, tableStartY);\n  pdf.text('Total', 165, tableStartY);\n  \n  // Items List\n  let yPos = tableStartY + 15;\n  pdf.setFontSize(9);\n  \n  order.items?.forEach((item) => {\n    const itemPrice = item.finalPrice || item.price;\n    const itemTotal = item.quantity * itemPrice;\n    const itemName = item.selectedWeight ? `${item.name} (${item.selectedWeight})` : item.name;\n    const hasLargeQuantity = (item.category === 'food' && item.quantity > 5) || (item.category === 'crochet' && item.quantity > 3);\n    \n    pdf.text(itemName.length > 35 ? itemName.substring(0, 35) + '...' : itemName, 25, yPos);\n    pdf.text(item.quantity.toString(), 125, yPos);\n    pdf.text(`Rs.${itemPrice}`, 140, yPos);\n    pdf.text(`Rs.${itemTotal}`, 165, yPos);\n    \n    if (hasLargeQuantity) {\n      yPos += 8;\n      pdf.setFontSize(7);\n      pdf.setTextColor(255, 140, 0);\n      pdf.text('* Large quantity - delivery time may vary, owner will inform soon', 25, yPos);\n      pdf.setFontSize(9);\n      pdf.setTextColor(0, 0, 0);\n      yPos += 8;\n    } else {\n      yPos += 12;\n    }\n  });\n  \n  // Total Section\n  pdf.setLineWidth(0.3);\n  pdf.line(120, yPos + 5, 190, yPos + 5);\n  \n  yPos += 15;\n  pdf.setFontSize(11);\n  pdf.setTextColor(139, 69, 19);\n  pdf.text(`Total Amount: Rs.${order.total || order.totalAmount}`, 120, yPos);\n  \n  // Footer\n  yPos += 25;\n  pdf.setFontSize(8);\n  pdf.setTextColor(100, 100, 100);\n  pdf.text('Thank you for choosing Stitch & Savour!', 20, yPos);\n  pdf.text('For any queries, contact us at +91 9970944685', 20, yPos + 7);\n  \n  // Download\n  pdf.save(`Invoice-${order.orderNumber}.pdf`);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}